<ion-header>
  <ion-toolbar mode="ios">
    <ion-title>
      Panel de usuarios
    </ion-title>
    <ion-buttons slot="end" class="header-actions">
      <ion-button (click)="irAHome()" color="medium" class="header-btn">
        <ion-icon slot="icon-only" name="home"></ion-icon>
        <span class="btn-text">Inicio</span>
      </ion-button>
      <ion-button (click)="logout()" color="danger" class="header-btn">
        <ion-icon slot="icon-only" name="log-out"></ion-icon>
        <span class="btn-text">Cerrar sesi√≥n</span>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Acciones principales -->
  <div class="acciones-usuarios">
    <ion-button class="btn-crear" (click)="crearUsuario()" color="primary">
      <ion-icon slot="start" name="add"></ion-icon>
      Crear usuario
    </ion-button>
    <ion-button (click)="actualizarUsuarios()" color="success">
      <ion-icon slot="start" name="refresh"></ion-icon>
      Actualizar
    </ion-button>
  </div>

  <!-- Tabla responsiva de usuarios -->
  <ion-card class="tabla-usuarios-card">
    <ion-card-content>
      <div class="tabla-usuarios-wrapper">
        <table class="tabla-usuarios">
          <thead>
            <tr>
              <th>Usuario</th>
              <th>Email</th>
              <th>Rol</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of items; trackBy: trackById">
              <td data-label="Usuario">{{ item.username }} {{ item.last_name }}</td>
              <td data-label="Email">{{ item.email }}</td>
              <td data-label="Rol">{{ getRolesNames(item.groups) }}</td>
              <td data-label="Acciones" style="text-align: center;">
                <ion-button (click)="editarUsuario(item)" color="warning" size="small">
                  <ion-icon name="create"></ion-icon>
                </ion-button>
                <ion-button (click)="eliminarUsuario(item.id)" color="danger" size="small" style="margin-left: 8px;">
                  <ion-icon name="trash"></ion-icon>
                </ion-button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>